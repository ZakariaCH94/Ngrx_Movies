<app-wrapper>
  <div class="row">
    <div class="col-md-2 col-md-offset-4">
      <app-search
        [searchName]="'search category'"
        [searchValue]="searchValue$ | async"
        (search)="search($event)"
      ></app-search>
    </div>
  </div>
  <div class="row" *ngIf="categories$ | async as categories">
    <div class="col-md-offset-0">
      <ng-container
        *ngIf="
          !(loadingCategories$ | async) && !(loadingMovies$ | async);
          else loader
        "
      >
        <app-category
          (goToMovies)="goToMovies($event)"
          *ngFor="
            let category of categories | titleCategoriesFilter: searchValue
          "
          [category]="category"
        ></app-category>
      </ng-container>
    </div>
  </div>
  <div class="row">
    <ng-template #loader>
      <mat-icon class="col-md-2 col-md-offset-4"
        ><mat-spinner color="primary" diameter="80"> </mat-spinner
      ></mat-icon>
    </ng-template>
  </div>
</app-wrapper>
